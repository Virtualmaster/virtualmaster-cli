#!/usr/bin/env ruby

begin
  require 'vmaster'
rescue LoadError
  vmaster_path = File.expand_path('../../lib', __FILE__)

  $:.unshift(vmaster_path)

  require 'vmaster'
end

program :name, "virtualmaster"
program :version, VirtualMaster::VERSION
program :description, "VirtualMaster command line interface"
program :help_formatter, :compact

default_command :help

VirtualMaster::CLI.run do
end

include Commander::UI
include Commander::UI::AskForClass
include Commander::Delegates

$terminal.wrap_at = HighLine::SystemExtensions.terminal_size.first - 5 rescue 80 if $stdin.tty?

Commander::Runner.instance.run!


